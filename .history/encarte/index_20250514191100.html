<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <template>
  <section class="section-formulario" data-id="formulario">
    <div class="form-container">
      <div class="franquia-info">
        <div class="logo-container">
          <img
            src="https://abcdaconstrucao.my.site.com/clubedayfla/sfsites/c/cms/delivery/media/MCZ7TLAK2FZ5H5ZIQRF36NDRO464"
            alt="Logotema da Campanha do mês" width="140" height="auto" />
        </div>
        <h1>Cadastre-se e receba as ofertas do mês!</h1>
        <p>
          Sua chance de economizar em produtos de qualidade, com ofertas especiais na sua região.
        </p>
      </div>
      <div class="forms">
        <div class="form-title">
          <figure>
            <img if:true={isStep1}
              src="https://abcdaconstrucao.my.site.com/clubedayfla/sfsites/c/cms/delivery/media/MC5Y62MNEZFJGMPJMBS3EGVEBBCE"
              alt="Franquia ABC Miniatura" class="image-form" width="100" height="auto" />
            <img if:true={isStep2}
              src="https://abcdaconstrucao.my.site.com/clubedayfla/sfsites/c/cms/delivery/media/MC5Y62MNEZFJGMPJMBS3EGVEBBCE"
              alt="Franquia ABC Miniatura" class="image-form" width="100" height="auto" />
            <img if:true={isStep3}
              src="https://abcdaconstrucao.my.site.com/clubedayfla/sfsites/c/cms/delivery/media/MCVRWGAJ42NFFITBCCJLEOV4KKYE"
              alt="Check de Sucesso" class="check-form" width="80" height="80" />
          </figure>
          <p if:true={isStep1} class="titleStep1 forms-title">Ofertas exclusivas <br />na sua região</p>
          <p if:true={isStep2} class="titleStep2 forms-title">Cadastro rápido: Preencha com seus dados</p>
          <p if:true={isStep3} class="titleStep3 forms-title">É hora de economizar!</p>
          <p if:true={isStep1} class="subtitleStep1 forms-subtitle">Selecione sua localização para ver ofertas
            personalizadas</p>
          <p if:true={isStep2} class="subtitleStep2 forms-subtitle">Estamos quase lá! Preencha os campos abaixo</p>
          <p if:true={isStep3} class="subtitleStep3 forms-subtitle">Confira o catálogo de ofertas no email que você cadastrou e aproveite.<br />Seus dados foram enviados com sucesso e segurança.</p>
          <br />
          <div class="container-progress-bar">
            <div class="line-progress">
              <div class="progress-bar" if:true={isStep3} style="width:100%; background-color: #00A859;"></div>
              <div class="progress-bar" if:false={isStep3} lwc:dom="manual"></div>
            </div>
            <div class="progress-percent progress-success" if:true={isStep3}>100%</div>
            <div class="progress-percent" if:false={isStep3}>{progress}%</div>
          </div>
        </div>
        <form>
          <!-- Etapa 1 -->
          <div if:true={isStep1} class="formStep1">
            <div class="label-input-row">
              <div class="label-input">
                <label for="state">Estado *</label>
                <div class="select-custom">
                  <select name="state" id="state" required onchange={handleStateChange}>
                    <option value="" disabled selected>Selecione</option>
                    <template for:each={stateOptions} for:item="option">
                      <option key={option.value} value={option.value}>{option.label}</option>
                    </template>
                  </select>
                </div>
              </div>
              <div class="label-input">
                <label for="city">Cidade *</label>
                <div class="select-custom">
                  <select name="city" id="city" required onchange={handleCityChange} disabled={isCitySelectDisabled}>
                    <option value="" disabled selected>Selecione</option>
                    <template for:each={cityOptions} for:item="option">
                      <option key={option.value} value={option.value}>{option.label}</option>
                    </template>
                  </select>
                </div>
              </div>
            </div>
            <div class="label-input">
              <label for="guide_shop">Selecione a Guide Shop mais próxima de você *</label>
              <div class="select-custom">
                <select name="guide_shop" id="guide_shop" required onchange={handleGuideShopChange}
                  disabled={isGuideShopSelectDisabled}>
                  <option value="" disabled selected>Selecione</option>
                  <template for:each={guideShopOptions} for:item="option">
                    <option key={option.value} value={option.value}>{option.label}</option>
                  </template>
                </select>
              </div>
            </div>
            <div class="frame-botoes next-step-container">
              <button type="button" class={nextButtonStep1Class} disabled={isNextButtonStep1Disabled}
                onclick={handleNextStep}>
                AVANÇAR
              </button>
            </div>
          </div>

          <!-- Etapa 2 -->
          <div if:true={isStep2} class="formStep2">
            <div class="label-input-row">
              <div class="label-input">
                <label for="name">Nome *</label>
                <input type="text" name="name" id="name" placeholder="Digite seu nome" value={formData.name}
                  onchange={handleNameChange} required />
              </div>
              <div class="label-input">
                <label for="lastname">Sobrenome *</label>
                <input type="text" name="lastname" id="lastname" placeholder="Sobrenome" value={formData.lastname}
                  onchange={handleLastnameChange} required />
              </div>
            </div>
            <div class="label-input">
              <label for="tel">Telefone Whatsapp *</label>
              <input type="tel" name="tel" id="tel" placeholder="(xx) xxxxx-xxxx" value={formData.tel}
                onchange={handleTelChange} required />
            </div>
            <div class="label-input">
              <label for="email">E-mail *</label>
              <input type="email" name="email" id="email" placeholder="Digite seu e-mail" value={formData.email}
                onchange={handleEmailChange} required />
            </div>
            <div class="checkbox-group">
              <div class="checkbox-item">
                <input type="checkbox" id="privacyPolicy" name="privacyPolicy" checked={formData.privacyPolicy}
                  onchange={handlePrivacyPolicyChange} />
                <label for="privacyPolicy">
                  Eu concordo com a Política de Privacidade e autorizo o uso dos meus dados conforme descrito.
                </label>
              </div>
              <div class="checkbox-item">
                <input type="checkbox" id="marketingConsent" name="marketingConsent" checked={formData.marketingConsent}
                  onchange={handleMarketingConsentChange} />
                <label for="marketingConsent">
                  Concordo em receber E-mails, SMS e Whatsapp da ABC da Construção.
                </label>
              </div>
            </div>
            <div class="frame-botoes">
              <button type="button" class="botao-voltar-Step2" onclick={handlePreviousStep}>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M15 10H5M5 10L10 15M5 10L10 5" stroke="#333333" stroke-width="1.5" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>
              <button type="button" class={nextButtonStep2Class} disabled={isNextButtonStep2Disabled}
                onclick={handleSubmitForm}>
                FINALIZAR
              </button>
            </div>
          </div>

          <!-- Etapa 3 -->
          <div if:true={isStep3} class="formStep3">
            <div class="frame-botoes success-buttons">
              <button class="botaoReset resetar-btn" type="button" onclick={resetForm}>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M10 3.33325V1.66659L6.66667 4.99992L10 8.33325V6.66659C12.7583 6.66659 15 8.90825 15 11.6666C15 14.4249 12.7583 16.6666 10 16.6666C7.24167 16.6666 5 14.4249 5 11.6666H3.33333C3.33333 15.3499 6.31667 18.3333 10 18.3333C13.6833 18.3333 16.6667 15.3499 16.6667 11.6666C16.6667 7.98325 13.6833 4.99992 10 4.99992V3.33325Z"
                    fill="#333333" />
                </svg>
              </button>
              <button class="botaoOutrasGuideShops" type="button" onclick={resetForm}>Ver Guide Shops</button>
            </div>
          </div>
        </form>
      </div>
    </div>
    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer-container">
        <div class="logo-box">
          <img
            src="https://abcdaconstrucao.my.site.com/clubedayfla/sfsites/c/cms/delivery/media/MCMP47Z7F55JAYDOZFLPWB2XOOA4"
            alt="Logo ABC da Construção" width="60" height="auto" />
        </div>
        <div class="footer-copyright">
          <p>© 2025 ABC DA CONSTRUÇÃO LTDA. Todos os direitos reservados.</p>
        </div>
        <div class="footer-slogan">
          <p>Tudo em acabamentos, tudo para você.</p>
        </div>
      </div>
    </footer>
  </section>
</template>
</body>
</html>